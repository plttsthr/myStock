{"ast":null,"code":"import _slicedToArray from \"D:\\\\repos\\\\myStockApp\\\\MyStockApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"D:\\\\repos\\\\myStockApp\\\\MyStockApp\\\\src\\\\Database\\\\AuthDetails.jsx\";\n// will have the logic to check\n// if user is signed in or not and which user it is\nimport { onAuthStateChanged, signOut } from 'firebase/auth';\nimport React, { useEffect, useState } from 'react';\nimport { auth } from \"./firebase\";\nvar AuthDetails = function AuthDetails() {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    authUser = _useState2[0],\n    setAuthUser = _useState2[1]; // Tells react that component need to run this after render\n  useEffect(function () {\n    // listener: if user exist and comebacks after function call\n    // react depending on situation\n    var listen = onAuthStateChanged(auth, function (user) {\n      if (user) {\n        setAuthUser(user);\n      } else {\n        setAuthUser(null);\n      }\n    });\n\n    // return the event listener we just received\n    return function () {\n      listen();\n    };\n  }, []);\n  var userSignOut = function userSignOut() {\n    signOut(auth).then(function () {\n      console.log(\"Signed out succesfully.\");\n    }).catch(function (error) {\n      return console.log(error);\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, authUser ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 28\n    }\n  }, \"Signed In as \".concat(authUser.email)), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: userSignOut,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, \"Sign Out\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, \"Email verification: \", authUser.emailVerified ? \"True\" : \"False\"))\n  // else you are signed out\n  : /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 15\n    }\n  }, \"Signed Out\"));\n};\nexport default AuthDetails;","map":{"version":3,"names":["onAuthStateChanged","signOut","React","useEffect","useState","auth","AuthDetails","authUser","setAuthUser","listen","user","userSignOut","then","console","log","catch","error","email","emailVerified"],"sources":["D:/repos/myStockApp/MyStockApp/src/Database/AuthDetails.jsx"],"sourcesContent":["// will have the logic to check\r\n// if user is signed in or not and which user it is\r\nimport { onAuthStateChanged, signOut } from 'firebase/auth';\r\nimport React, { useEffect, useState } from 'react';\r\nimport {auth} from \"./firebase\";\r\n\r\nconst AuthDetails = () => {\r\n    const [authUser, setAuthUser] = useState(null);\r\n\r\n    // Tells react that component need to run this after render\r\n    useEffect(() => {\r\n        // listener: if user exist and comebacks after function call\r\n        // react depending on situation\r\n        const listen = onAuthStateChanged(auth, (user) => {\r\n            if (user) {\r\n                setAuthUser(user);\r\n            } else{\r\n                setAuthUser(null);\r\n            }\r\n            });\r\n            \r\n            // return the event listener we just received\r\n            return () => {listen()};\r\n\r\n        }, []);\r\n\r\n    const userSignOut = () => {\r\n        signOut(auth)\r\n        .then( () => { console.log(\"Signed out succesfully.\") } )\r\n        .catch( error => console.log(error) )\r\n    };\r\n    \r\n    return ( \r\n        <div> \r\n            { authUser ? <><p>{`Signed In as ${authUser.email}`}</p> \r\n            <button onClick={userSignOut}>Sign Out</button>\r\n            <p>Email verification: {authUser.emailVerified ? \"True\" : \"False\"}</p>\r\n            </>\r\n            // else you are signed out\r\n            : <p>Signed Out</p>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AuthDetails;"],"mappings":";;;AAAA;AACA;AACA,SAASA,kBAAkB,EAAEC,OAAO,QAAQ,eAAe;AAC3D,OAAOC,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAAQC,IAAI,QAAO,YAAY;AAE/B,IAAMC,WAAW,GAAG,SAAdA,WAAW,GAAS;EAAA,gBACUF,QAAQ,CAAC,IAAI,CAAC;IAAA;IAAvCG,QAAQ;IAAEC,WAAW,kBAE5B;EACAL,SAAS,CAAC,YAAM;IACZ;IACA;IACA,IAAMM,MAAM,GAAGT,kBAAkB,CAACK,IAAI,EAAE,UAACK,IAAI,EAAK;MAC9C,IAAIA,IAAI,EAAE;QACNF,WAAW,CAACE,IAAI,CAAC;MACrB,CAAC,MAAK;QACFF,WAAW,CAAC,IAAI,CAAC;MACrB;IACA,CAAC,CAAC;;IAEF;IACA,OAAO,YAAM;MAACC,MAAM,EAAE;IAAA,CAAC;EAE3B,CAAC,EAAE,EAAE,CAAC;EAEV,IAAME,WAAW,GAAG,SAAdA,WAAW,GAAS;IACtBV,OAAO,CAACI,IAAI,CAAC,CACZO,IAAI,CAAE,YAAM;MAAEC,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;IAAC,CAAC,CAAE,CACxDC,KAAK,CAAE,UAAAC,KAAK;MAAA,OAAIH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;IAAA,EAAE;EACzC,CAAC;EAED,oBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACMT,QAAQ,gBAAG,uDAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,0BAAoBA,QAAQ,CAACU,KAAK,EAAO,eACxD;IAAQ,OAAO,EAAEN,WAAY;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAC,UAAQ,CAAS,eAC/C;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAG,sBAAoB,EAACJ,QAAQ,CAACW,aAAa,GAAG,MAAM,GAAG,OAAO,CAAK;EAEtE;EAAA,eACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAG,YAAU,CAAI,CAEjB;AAEd,CAAC;AAED,eAAeZ,WAAW"},"metadata":{},"sourceType":"module"}