{"ast":null,"code":"import _slicedToArray from \"/Users/paulette./Documents/GitHub/MyStockApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/paulette./Documents/GitHub/MyStockApp/src/Model/AuthDetails.js\";\n// will have the logic to check\n// if user is signed in or not and which user it is\nimport React, { useState, useEffect } from 'react';\nimport { onAuthStateChanged } from \"firebase/auth\";\nvar AuthDetails = function AuthDetails(_ref) {\n  var controller = _ref.controller;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    authUser = _useState2[0],\n    setAuthUser = _useState2[1]; //needed to check in real time and change render when needed\n  useEffect(function () {\n    // listener: if user exist and comebacks after function call\n    // set user to be the user be the one logged in.\n    var listen = onAuthStateChanged(controller.auth, function (user) {\n      if (user) {\n        setAuthUser(user);\n      } else {\n        setAuthUser(null);\n      }\n    });\n    return function () {\n      listen();\n    };\n  }, [controller.auth.currentUser]);\n  var signOutButtonAction = function signOutButtonAction(e) {\n    e.preventDefault();\n    console.log(controller.auth);\n    controller.userSignOut();\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, console.log(controller.authUser), authUser ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 28\n    }\n  }, \"Signed In as \".concat(controller.authUser.email)), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: signOutButtonAction,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }, \"Sign Out\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, \"Email verification: \", controller.authUser.emailVerified ? \"True\" : \"False\"))\n  // else you are signed out\n  : /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 15\n    }\n  }, \"Signed Out\"));\n};\nexport default AuthDetails;","map":{"version":3,"names":["React","useState","useEffect","onAuthStateChanged","AuthDetails","controller","authUser","setAuthUser","listen","auth","user","currentUser","signOutButtonAction","e","preventDefault","console","log","userSignOut","email","emailVerified"],"sources":["/Users/paulette./Documents/GitHub/MyStockApp/src/Model/AuthDetails.js"],"sourcesContent":["// will have the logic to check\n// if user is signed in or not and which user it is\nimport React, {useState, useEffect} from 'react';\nimport {onAuthStateChanged} from \"firebase/auth\";\n\nconst AuthDetails = ({controller}) => {\n    const [authUser, setAuthUser] = useState(null);\n\n    //needed to check in real time and change render when needed\n    useEffect( () => {\n        // listener: if user exist and comebacks after function call\n        // set user to be the user be the one logged in.\n        const listen = onAuthStateChanged(controller.auth, (user) => {\n            if (user) { setAuthUser(user); } \n            else{ setAuthUser(null); }\n        });  \n        \n        return () => {listen()};\n    \n    }, [controller.auth.currentUser]);\n\n    const signOutButtonAction = (e) => {\n        e.preventDefault();\n        console.log(controller.auth)\n        controller.userSignOut();\n    }\n    \n    return ( \n        <div> \n            {console.log(controller.authUser)}\n            { authUser ? <><p>{`Signed In as ${controller.authUser.email}`}</p> \n            <button onClick={signOutButtonAction}>Sign Out</button>\n            <p>Email verification: {controller.authUser.emailVerified ? \"True\" : \"False\"}</p>\n            </>\n            // else you are signed out\n            : <p>Signed Out</p>\n            }\n        </div>\n    );\n};\n\nexport default AuthDetails;"],"mappings":";;;AAAA;AACA;AACA,OAAOA,KAAK,IAAGC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAChD,SAAQC,kBAAkB,QAAO,eAAe;AAEhD,IAAMC,WAAW,GAAG,SAAdA,WAAW,OAAqB;EAAA,IAAhBC,UAAU,QAAVA,UAAU;EAAA,gBACIJ,QAAQ,CAAC,IAAI,CAAC;IAAA;IAAvCK,QAAQ;IAAEC,WAAW,kBAE5B;EACAL,SAAS,CAAE,YAAM;IACb;IACA;IACA,IAAMM,MAAM,GAAGL,kBAAkB,CAACE,UAAU,CAACI,IAAI,EAAE,UAACC,IAAI,EAAK;MACzD,IAAIA,IAAI,EAAE;QAAEH,WAAW,CAACG,IAAI,CAAC;MAAE,CAAC,MAC5B;QAAEH,WAAW,CAAC,IAAI,CAAC;MAAE;IAC7B,CAAC,CAAC;IAEF,OAAO,YAAM;MAACC,MAAM,EAAE;IAAA,CAAC;EAE3B,CAAC,EAAE,CAACH,UAAU,CAACI,IAAI,CAACE,WAAW,CAAC,CAAC;EAEjC,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAmB,CAAIC,CAAC,EAAK;IAC/BA,CAAC,CAACC,cAAc,EAAE;IAClBC,OAAO,CAACC,GAAG,CAACX,UAAU,CAACI,IAAI,CAAC;IAC5BJ,UAAU,CAACY,WAAW,EAAE;EAC5B,CAAC;EAED,oBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACKF,OAAO,CAACC,GAAG,CAACX,UAAU,CAACC,QAAQ,CAAC,EAC/BA,QAAQ,gBAAG,uDAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,0BAAoBD,UAAU,CAACC,QAAQ,CAACY,KAAK,EAAO,eACnE;IAAQ,OAAO,EAAEN,mBAAoB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAC,UAAQ,CAAS,eACvD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAG,sBAAoB,EAACP,UAAU,CAACC,QAAQ,CAACa,aAAa,GAAG,MAAM,GAAG,OAAO,CAAK;EAEjF;EAAA,eACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAG,YAAU,CAAI,CAEjB;AAEd,CAAC;AAED,eAAef,WAAW"},"metadata":{},"sourceType":"module"}